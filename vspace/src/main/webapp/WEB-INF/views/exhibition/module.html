<html layout:decorate="~{layouts/main}">
   <head>
      <style type="text/css">
         body {
         font-family: 'Montserrat', sans-serif;
         }
      </style>
      
   </head>
   <body>
   	<div layout:fragment="content">
   		<script>
         $( document ).ready(function() {
         	$("#blocks a").css('color','rgb(150, 45, 62)').css('font-weight','bold');
         });
             function openLangNav() {
                 $("#myLangSidenav").css("width","240px");
             }
             function closeLangNav() {
                 $("#myLangSidenav").css("width","0");
             }
             function openNav(){
                 $("#mySidenav").css("width", "170px");
                 $("#mySidenav").css("height", "700px");
             }
             function closeNav(){
                 $("#mySidenav").css("width", "0px");
             }
      	</script>
      <div id="Module_1" class="Module_1_Class">
         <div class="textDiv" th:if="${showAlert != true}">
            <h3>[[${module.name}]]</h3>
         </div>
         <div class="slideNumberClass">
            <p>Slide [[${currentNumOfSlide}]]/[[${numOfSlides}]]</p>
         </div>
         <div class="Group_7_Class">
            <a th:if="${!#strings.isEmpty(prevSlide)}" th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${currentSequenceId}+'/slide/'+${prevSlide}}">
               <div class="Slideshow_previous Slideshow_previous_Class">
                  <svg class="Ellipse_11">
                     <ellipse fill="rgba(255,255,255,1)"
                        class="Ellipse_11_Class" rx="20" ry="20" cx="20" cy="20">
                     </ellipse>
                  </svg>
                  <svg class="Icon_ionic_ios_arrow_back" viewBox="11.251 6.194 20.021 35.021">	                 
                     <path fill="rgba(101,101,101,1)"	
                        class="Icon_ionic_ios_arrow_back_Class"	
                        d="M 17.28610038757324 23.69940376281738 L 30.53693389892578 10.45899486541748 C 31.51693534851074 9.478996276855469 31.51693534851074 7.894316673278809 30.53693389892578 6.92474365234375 C 29.55693244934082 5.944746017456055 27.97225761413574 5.95517110824585 26.99225997924805 6.92474365234375 L 11.9795093536377 21.92706680297852 C 11.03078651428223 22.87578582763672 11.00993728637695 24.39791297912598 11.90652942657471 25.3779125213623 L 26.98183441162109 40.48448944091797 C 27.47183418273926 40.97449111938477 28.11821746826172 41.21427917480469 28.75417137145996 41.21427917480469 C 29.39012908935547 41.21427917480469 30.0365104675293 40.97449111938477 30.52651405334473 40.48448944091797 C 31.50650978088379 39.50448989868164 31.50650978088379 37.91981506347656 30.52651405334473 36.95023727416992 L 17.28610038757324 23.69940376281738 Z">	
                     </path>	
                  </svg>
               </div>
            </a>
            <a th:if="${!#strings.isEmpty(nextSlide)}" th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${currentSequenceId}+'/slide/'+${nextSlide}}">
               <div class="slideshow_next slideshow_next_Class">
                  <svg class="Ellipse_12">
                     <ellipse fill="rgba(255,255,255,1)"
                        class="Ellipse_12_Class" rx="20" ry="20" cx="20" cy="20">
                     </ellipse>
                  </svg>  
                  <svg class="Icon_ionic_ios_arrow_forward"	viewBox="11.246 6.196 20.021 35.017">	
                     <path fill="rgba(101,101,101,1)"	
                        class="Icon_ionic_ios_arrow_forward_Class"	
                        d="M 25.23231887817383 23.69813346862793 L 11.98148345947266 10.45771980285645 C 11.00148582458496 9.47772216796875 11.00148582458496 7.893041610717773 11.98148345947266 6.923468589782715 C 12.96148300170898 5.953895568847656 14.54616165161133 5.953895092010498 15.52616119384766 6.923468589782715 L 30.53891181945801 21.92579460144043 C 31.48763275146484 22.8745174407959 31.50848388671875 24.39664649963379 30.61189270019531 25.37664222717285 L 15.53658676147461 40.48322677612305 C 15.04658699035645 40.97322463989258 14.40020561218262 41.2130126953125 13.76424789428711 41.2130126953125 C 13.1282901763916 41.2130126953125 12.48190879821777 40.97322463989258 11.99190902709961 40.48322677612305 C 11.0119104385376 39.50322723388672 11.0119104385376 37.91854858398438 11.99190902709961 36.948974609375 L 25.23231887817383 23.69813346862793 Z">	
                     </path>	
                  </svg>                
               </div>
            </a>
         </div>
         <a th:href="@{'/exhibit/space/'+${spaceId}}">
            <div class="exit_to_space_Class">
               <svg class="Ellipse_5_be">
                  <ellipse fill="rgba(255,255,255,1)"
                     class="Ellipse_5_be_Class" rx="22" ry="22" cx="22" cy="22">
                  </ellipse>
               </svg>
               <i class="fas fa-angle-double-left fa-2x Icon_awesome_angle_double_left"></i>
               <span class="tooltiptext">Go To Space</span>
            </div>
         </a>
         <a th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${startSequenceId}+'?clearHistory=true'}">
            <div class="exit_to_branchingPoint_Class">
               <svg class="Ellipse_5">
                  <ellipse fill="rgba(255,255,255,1)"
                     class="Ellipse_5_Class" rx="22" ry="22" cx="22" cy="22">
                  </ellipse>
               </svg>
               <i class="fas fa-fast-backward fa-2x Icon_awesome_angle_double_left"></i>
               <span class="tooltiptext">Go To Start Sequence of Module</span>
            </div>
         </a>
         <a th:if="${showBackToPreviousChoice eq true}" th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${previousSequenceId}+'/slide/'+${previousBranchingPoint.id}+'?back=true'}">
            <div class="exit_to_previousChoice_Class">
               <svg class="Ellipse_5_be">
                  <ellipse fill="rgba(255,255,255,1)"
                     class="Ellipse_5_be_Class" rx="22" ry="22"
                     cx="22" cy="22">
                  </ellipse>
               </svg>
               <i class="fas fa-step-backward fa-2x Icon_awesome_angle_double_left"></i>
               <span class="tooltiptext">Go back to [[${previousBranchingPoint.name} ]]</span>
            </div>
         </a>
         <h3 style="text-align:center;">[[${currentSlideCon.name}]]</h3>
         <div id="blocks" class="Group_8_Class" th:each="contents: ${currentSlideCon.contents}">
            <img th:if="${contents['class'].simpleName ==  'ImageBlock'}" id="${contents.id}" class="imgDiv" th:src="@{'/api/image/'+${contents.image.id}}">
            <div th:if="${contents['class'].simpleName ==  'TextBlock'}" id="${contents.id}" class="textDiv">[(${contents.htmlRenderedText()})]</div>
            <div th:if="${contents['class'].simpleName == 'ChoiceBlock'}" id="${contents.id}" class="textDiv" style="margin: 1%;">
               <div th:if="${contents.showsAll eq true}" th:each="choice: ${choices}" class="list-group">
                  <a th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${choice.sequence.id}+'?branchingPoint='+${slideId}+'&previousSequenceId='+${currentSequenceId}}"
                     class="list-group-item list-group-item-action">[[${choice.sequence.name}]]</a>
               </div>
               <div class="list-group" th:if="${contents.showsAll eq false}" th:each="choice: ${contents.choices}">
                  <a th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${choice.sequence.id}+'?branchingPoint='+${slideId}+'&previousSequenceId='+${currentSequenceId}}"
                     class="list-group-item list-group-item-action">[[${choice.sequence.name}]]</a>
               </div>
            </div>
            <div style="align-items: center" class="list-group" th:id="${contents.id}" th:if="${#strings.equals(contents['class'].simpleName,'VideoBlock')}">
                    <iframe th:id="${contents.id}" width="800" height="530" th:src="${contents.video.url}" th:if="${contents.video.url}" frameborder="0"
                        allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen ></iframe>
                    <iframe th:id="${contents.id}" width="800" height="530" th:if="${contents.video.url == null}"
                        th:src="@{'/api/video/'+${contents.video.id}}" frameborder="0"
                        allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen ></iframe>
            </div>
         </div>
      </div>
     </div>
   </body>
</html>