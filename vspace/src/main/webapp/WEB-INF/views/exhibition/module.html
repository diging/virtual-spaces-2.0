<html layout:decorate="~{layouts/main}">
   <head>
      <style type="text/css">
      </style>
      <script th:inline="javascript">
         $( document ).ready(function() {
            $("#blocks a").css('color','rgb(150, 45, 62)').css('font-weight','bold');
            $(".nav-bar").css('position','fixed').css('width','100%').css('z-index','125');
            
           /* /*   var myObj = [(${currentSlideCon.contents[4].id})]; */
            /* myObj.forEach(myFunction);
            
            function myFunction(item, index) {
            	console.log(item);
            } */
            
         });
         
         
      </script>
   </head>
   <body>
    <div layout:fragment="content">
        <div th:if="${showAlert == true}"
            class="alert alert-warning center col-md-12"
            style="text-align: center;">[[${message}]] <a
                th:href="@{'/exhibit/space/'+${spaceId}}">
                <button class="btn circle-btn" style="margin-left: 10px;">
                    <span class="icon-double-chevron-left"></span> <span
                        class="tooltiptext">Go To Space</span>
                </button>
            </a>
        </div>
        <div th:if="${showAlert != true}" id="Module_1" class="Module_1_Class">
        <div th:if="${showAlert != true}" style="padding-top: 4%; padding-bottom: 1%; background-color: white; position: fixed; z-index: 100; top: 5.5%; width: 100%; display: flex;">
            <h3 class="textDiv">[[${module.name}]]</h3>
            <p class="slideNumberClass">Slide [[${currentNumOfSlide}]]/[[${numOfSlides}]]</p>
        </div>
         <div class="Group_7_Class" >
            <a th:if="${!#strings.isEmpty(prevSlide)}" th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${currentSequenceId}+'/slide/'+${prevSlide}}">
               <div class="Slideshow_previous_Class" style="position: fixed; z-index:110; left: 13%; top: 40.3%;">
                  <button class="btn circle-btn-slide-nav">
                         <span class="icon-chevron-left slide-nav"></span>
                         <span class="tooltiptext">Previous slide</span>
                  </button>
               </div>
           </a>
            <a th:if="${!#strings.isEmpty(nextSlide)}" th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${currentSequenceId}+'/slide/'+${nextSlide}}">
               <div class="slideshow_next slideshow_next_Class" style="position: fixed; z-index:110; right: 11%; top: 40.3%;">
                    <button class="btn circle-btn-slide-nav">
                         <span class="icon-chevron-right slide-nav"></span>
                         <span class="tooltiptext">Next slide</span>
                    </button>  
               </div>
            </a>
         </div>
         <a th:href="@{'/exhibit/space/'+${spaceId}}">
            <div class="exit_to_space_Class" style="position: fixed;  z-index:120;">
                  <button class="btn circle-btn">
                      <span class="icon-double-chevron-left"></span>
                      <span class="tooltiptext">Go To Space</span>
                  </button>
            </div>
         </a>
         <a th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${startSequenceId}+'?clearHistory=true'}">
            <div class="exit_to_branchingPoint_Class" style="position: fixed;  z-index:110;">
                  <button class="btn circle-btn">
                      <span class="icon-rewind-end"></span>
                      <span class="tooltiptext">Go To Start Sequence of Module</span>
                  </button>
            </div>
         </a>
         <a th:if="${showBackToPreviousChoice eq true}" th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${previousSequenceId}+'/slide/'+${previousBranchingPoint.id}+'?back=true'}">
            <div class="exit_to_previousChoice_Class" style="position: fixed; z-index:110;">
                  <button class="btn circle-btn">
                      <span class="icon-caret-left"></span>
                      <span class="tooltiptext">Go back to [[${previousBranchingPoint.name} ]]</span>
                  </button>
            </div>
         </a>
         <div style="position: relative; top: 90px; padding-bottom:10px;">
            <h3 style="text-align:center;">[[${currentSlideCon.name}]]</h3>
            <div>
            	<span class='Z3988' title='url_ver=Z39.88-2004&ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fzotero.org%3A2&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adissertation&amp;rft.title=La%20digitalisation%20des%20points%20de%20vente%20%3A%20compl%C3%A9mentarit%C3%A9%20entre%20les%20boutiques%20physiques%20et%20les%20boutiques%20connect%C3%A9es&amp;rft.inst=IDRAC&amp;rft.degree=Th%C3%A8se%20professionnelle&amp;rft.au=KHETTAL%2C%20Sarah&amp;rft.date=03%2F11%2F2016&amp;rft.place=Lyon&amp;rft.language=Fran%C3%A7ais&amp;rft.tpages=91%20p%2E&amp;rft.identifier=http://infotheque.campushep-lyon.net/Record.htm?record=19218093124910362759' > </span>
            </div>
            <div th:id="blocks" class="Group_8_Class" th:each="contents: ${currentSlideCon.contents}">
                <img th:if="${contents['class'].simpleName ==  'ImageBlock'}" th:id="${contents.id}" class="imgDiv" th:src="@{'/api/image/'+${contents.image.id}}">
                <div th:if="${contents['class'].simpleName ==  'TextBlock'}" th:id="${contents.id}" class="textDiv">[(${contents.htmlRenderedText()})]</div>
                <div th:if="${contents['class'].simpleName ==  'BiblioBlock'}" th:id="${contents.id}" class="biblioDiv">[(${contents.htmlRenderedBiblio()})]</div>
                	<div th:if="${contents['class'].simpleName ==  'BiblioBlock'}" class="biblioDiv" >
                	

						<span class='Z3988' th:title='${contents.urlEncodedBiblioMetaData()}' > </span>
                		<!-- rft.aulast={{ site.data.contact.name_last | cgi_escape }}&amp;
                		rft.aufirst={{ site.data.contact.name_first | cgi_escape }}&amp;
                		rft.source={{ site.data.site.title | cgi_escape }}&amp;
                		rft.date={{ page.date | date_to_xmlschema }}&amp;
                		rft.type=blogPost&amp;
                		rft.format=text&amp;
                		rft.identifier={{ site.url | cgi_escape }}{{ page.url | cgi_escape }}&amp; -->
                		
                		
                		
                	</div>
                <div th:if="${contents['class'].simpleName == 'ChoiceBlock'}" th:id="${contents.id}" class="textDiv" style="margin: 1%;">
                    <div th:if="${contents.showsAll eq true}" th:each="choice: ${choices}" class="list-group">
                        <a th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${choice.sequence.id}+'?branchingPoint='+${slideId}+'&previousSequenceId='+${currentSequenceId}}"
                            class="list-group-item list-group-item-action">[[${choice.sequence.name}]]</a>
                    </div>
                    <div class="list-group" th:if="${contents.showsAll eq false}" th:each="choice: ${contents.choices}">
                        <a th:href="@{'/exhibit/'+${spaceId}+'/module/'+${module.id}+'/sequence/'+${choice.sequence.id}+'?branchingPoint='+${slideId}+'&previousSequenceId='+${currentSequenceId}}"
                            class="list-group-item list-group-item-action">[[${choice.sequence.name}]]</a>
                    </div>
                </div>
            </div>
        </div>
      </div>
      </div>
    </body>
</html>