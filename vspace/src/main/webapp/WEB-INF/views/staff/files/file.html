<html layout:decorate="~{layouts/main_staff}">
<head>
<link rel="stylesheet" type="text/css" id="applicationStylesheet"
    th:href="@{/resources/extra/Home.css}" />

<script src="//use.fontawesome.com/releases/v5.8.1/js/all.js"
    data-auto-replace-svg="nest"></script>
<script th:src="@{'/resources/extra/space.js'}"></script>

<script th:inline="javascript">
function downloadFile(){
	$.ajax({
        url: "[(@{'/staff/files/download/'+${file.id}})]",
        type: 'GET',
        cache       : false,
        contentType : false,
        success: function(data) {
        	console.log('downloaded')
        },
        error: function(data) {
        	console.log('could not download')
        }
    });
}

</script>
<style>
/* .download{
margin-left:1200px;
} */
</style>
</head>

<body>
    <div  layout:fragment="content" class="main-content">
 		<div class="flex-spacing">
 			<div>
	    		<h2 th:text=${file.filename}/>
		        <p>[[${file.fileDescription}]]</p>
		        
		        
	    	</div>
 			 
 		</div>
 		<div>
 		<h3 >Edit File</h3>
 		<button class="download btn primary-btn" type="submit" value="submit" onClick = "downloadFile()">Download File</button>
 		</div>
		<div>
 		
 		<form method="POST"
			th:action='@{|/staff/files/edit/${file.id}?${_csrf.parameterName}=${_csrf.token}|}' th:object="${fileForm}"
			enctype="multipart/form-data" style="margin-top: 40px">

			<div class="form-group row">
				<label for="fileName" class="col-md-2 col-form-label">File Name:</label> 
				<textarea type="text" class="form-control col-md-10" id="fileName" rows="1" cols="30"
					 th:text="${file.filename}" name="fileName"></textarea>
			</div>

			<div class="form-group row">
				<label for="description" class="col-md-2 col-form-label">Description:</label>
				<textarea class="form-control col-md-10" rows="5" cols="30"
					id="description" name="description" th:text=${file.fileDescription} ></textarea>
			</div>
			<button class="btn primary-btn" type="submit" value="submit">Save File</button>
		</form>
 		</div>
		
		
		
        
   </div> 
</body>
</html>
